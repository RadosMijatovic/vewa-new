{"ast":null,"code":"import _slicedToArray from\"/Users/radosmijatovic/vewa-new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{Doughnut}from\"react-chartjs-2\";import{ArcElement,Chart as ChartJS,Legend,Tooltip}from\"chart.js\";import{COLORS,DOUGHNUT,doughnutChartData}from\"../../config/chartConfig\";import logo from'../../assets/imgs/logo.png';import{ContextState,ContextStateDispatch}from\"../../ContextState\";import{useEffect,useContext,useState}from\"react\";import{tabLabels}from\"../../config/sharedConfig\";import{LineChart,Line,PieChart,Pie,Cell}from'recharts';// const data = [{name: 'Page A', uv: 400, pv: 2400, amt: 2400}, {name: 'Page b', uv: 322, pv: 1232, amt: 3212}];\nvar randomChartDataValue=function randomChartDataValue(){return Math.floor(Math.random()*(250-100+1)+100);};var DoughnutComponent=function DoughnutComponent(){var rootState=useContext(ContextState);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),chartData=_useState2[0],setChartData=_useState2[1];useEffect(function(){setChartData([{name:'Group A',value:randomChartDataValue()},{name:'Group B',value:randomChartDataValue()},{name:'Group C',value:rootState.selectedTab===tabLabels[2]?0:randomChartDataValue()}]);},[rootState.selectedTab]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"ckw-doughnut-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ckw-doughnut\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ckw-doughnut-center-label\"},DOUGHNUT[rootState.selectedTab].totalAmount,/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(KwhHelper,{selectedTab:rootState.selectedTab}))),chartData&&/*#__PURE__*/React.createElement(PieChart,{width:150,height:150},/*#__PURE__*/React.createElement(Pie,{data:chartData,cx:70,cy:80,innerRadius:40,outerRadius:60,fill:\"#8884d8\",paddingAngle:3,dataKey:\"value\",border:0},chartData.map(function(entry,index){return/*#__PURE__*/React.createElement(Cell,{key:\"cell-\".concat(index),fill:COLORS[index%COLORS.length]});})))),/*#__PURE__*/React.createElement(\"ol\",{className:\"list-group ckw-doughnut-list\"},/*#__PURE__*/React.createElement(ListComponent,{selectedTab:rootState.selectedTab})),/*#__PURE__*/React.createElement(\"div\",{className:\"ckw-logo\"},/*#__PURE__*/React.createElement(\"img\",{src:logo,alt:\"Ckw Logo\"}))));};var ListComponent=function ListComponent(_ref){var selectedTab=_ref.selectedTab;var firstListItemView=function firstListItemView(){return selectedTab===tabLabels[0]?'Netzbezug - Hochf':selectedTab===tabLabels[1]?'Raumheizung':'Kaltwasser';};var secondListItemView=function secondListItemView(){return selectedTab===tabLabels[0]?'Netzbezug - Niedertarif':'Warmwasser';};var thirdListItemView=function thirdListItemView(){return selectedTab===tabLabels[0]?'Solarstorm':'Kälte';};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item f\"},firstListItemView(),\" (\",DOUGHNUT[selectedTab].nightTariff.percentage,\"%)\",/*#__PURE__*/React.createElement(\"span\",null,DOUGHNUT[selectedTab].nightTariff.value,\" \",/*#__PURE__*/React.createElement(KwhHelper,{selectedTab:selectedTab}))),/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item s\"},secondListItemView(),\" (\",DOUGHNUT[selectedTab].lowTariff.percentage,\"%)\",/*#__PURE__*/React.createElement(\"span\",null,DOUGHNUT[selectedTab].lowTariff.value,\" \",/*#__PURE__*/React.createElement(KwhHelper,{selectedTab:selectedTab}))),selectedTab!==tabLabels[2]&&/*#__PURE__*/React.createElement(\"li\",{className:\"list-group-item t\"},thirdListItemView(),\" (\",DOUGHNUT[selectedTab].solar.percentage,\"%)\",/*#__PURE__*/React.createElement(\"span\",null,DOUGHNUT[selectedTab].solar.value,\" \",/*#__PURE__*/React.createElement(KwhHelper,{selectedTab:selectedTab}),\" \")));};export var KwhHelper=function KwhHelper(_ref2){var selectedTab=_ref2.selectedTab;return selectedTab===tabLabels[2]?/*#__PURE__*/React.createElement(React.Fragment,null,\"m\",/*#__PURE__*/React.createElement(\"sup\",null,\"3\")):'kWh';};export default DoughnutComponent;","map":{"version":3,"names":["React","Doughnut","ArcElement","Chart","ChartJS","Legend","Tooltip","COLORS","DOUGHNUT","doughnutChartData","logo","ContextState","ContextStateDispatch","useEffect","useContext","useState","tabLabels","LineChart","Line","PieChart","Pie","Cell","randomChartDataValue","Math","floor","random","DoughnutComponent","rootState","chartData","setChartData","name","value","selectedTab","totalAmount","map","entry","index","length","ListComponent","firstListItemView","secondListItemView","thirdListItemView","nightTariff","percentage","lowTariff","solar","KwhHelper"],"sources":["/Users/radosmijatovic/vewa-new/src/components/charts/DoughnutComponent.js"],"sourcesContent":["import React from 'react';\nimport {Doughnut} from \"react-chartjs-2\";\nimport {ArcElement, Chart as ChartJS, Legend, Tooltip} from \"chart.js\";\nimport {COLORS, DOUGHNUT, doughnutChartData} from \"../../config/chartConfig\";\nimport logo from '../../assets/imgs/logo.png'\nimport {ContextState, ContextStateDispatch} from \"../../ContextState\";\nimport {useEffect, useContext, useState} from \"react\";\nimport {tabLabels} from \"../../config/sharedConfig\";\nimport {LineChart, Line, PieChart,Pie, Cell} from 'recharts';\n// const data = [{name: 'Page A', uv: 400, pv: 2400, amt: 2400}, {name: 'Page b', uv: 322, pv: 1232, amt: 3212}];\n\nconst randomChartDataValue = () =>  Math.floor(Math.random() * (250 - 100 + 1) + 100);\n\nconst DoughnutComponent = () => {\n    const rootState = useContext(ContextState)\n    const [chartData, setChartData] = useState(null)\n\n    useEffect(() => {\n        setChartData([    { name: 'Group A', value: randomChartDataValue() },\n            { name: 'Group B', value: randomChartDataValue() },\n            { name: 'Group C', value: rootState.selectedTab === tabLabels[2] ? 0 : randomChartDataValue() }\n        ])\n    }, [rootState.selectedTab])\n\n    return (\n        <>\n            <div className=\"ckw-doughnut-wrapper\">\n                <div className=\"ckw-doughnut\">\n                    <div className=\"ckw-doughnut-center-label\">\n                        {DOUGHNUT[rootState.selectedTab].totalAmount}\n                        <span><KwhHelper selectedTab={rootState.selectedTab} /></span>\n                    </div>\n                    {chartData && <PieChart width={150} height={150} >\n                        <Pie\n                            data={chartData}\n                            cx={70}\n                            cy={80}\n                            innerRadius={40}\n                            outerRadius={60}\n                            fill=\"#8884d8\"\n                            paddingAngle={3}\n                            dataKey=\"value\"\n                            border={0}\n                        >\n                            {chartData.map((entry, index) => (\n                                <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                            ))}\n                        </Pie>\n                    </PieChart> }\n                </div>\n                <ol className=\"list-group ckw-doughnut-list\">\n                    <ListComponent selectedTab={rootState.selectedTab} />\n                </ol>\n                <div className=\"ckw-logo\">\n                    <img src={logo} alt=\"Ckw Logo\"/>\n                </div>\n            </div>\n\n        </>\n    )\n}\n\nconst ListComponent = ({selectedTab}) => {\n    const firstListItemView = () => {\n        return selectedTab === tabLabels[0] ?\n            'Netzbezug - Hochf' :\n            selectedTab === tabLabels[1] ?\n                'Raumheizung' : 'Kaltwasser'\n    }\n    const secondListItemView = () => {\n        return selectedTab === tabLabels[0] ?\n            'Netzbezug - Niedertarif' :\n            'Warmwasser'\n    }\n    const thirdListItemView = () => {\n        return selectedTab === tabLabels[0] ?\n            'Solarstorm' :\n            'Kälte'\n    }\n    return (\n        <>\n            <li className=\"list-group-item f\">\n                {firstListItemView()} ({DOUGHNUT[selectedTab].nightTariff.percentage}%)\n                <span>{DOUGHNUT[selectedTab].nightTariff.value} <KwhHelper selectedTab={selectedTab} /></span>\n            </li>\n            <li className=\"list-group-item s\">\n                {secondListItemView()} ({DOUGHNUT[selectedTab].lowTariff.percentage}%)\n                <span>{DOUGHNUT[selectedTab].lowTariff.value} <KwhHelper selectedTab={selectedTab} /></span>\n            </li>\n            {selectedTab !== tabLabels[2] && <li className=\"list-group-item t\">\n                {thirdListItemView()} ({DOUGHNUT[selectedTab].solar.percentage}%)\n                <span>{DOUGHNUT[selectedTab].solar.value} <KwhHelper selectedTab={selectedTab} /> </span>\n            </li>}\n        </>\n    )\n}\n\nexport const KwhHelper = ({selectedTab}) => selectedTab === tabLabels[2] ? <>m<sup>3</sup></> : 'kWh'\nexport default DoughnutComponent"],"mappings":"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"},"metadata":{},"sourceType":"module"}